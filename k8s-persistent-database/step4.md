We will now re-create the entire cluster

### Start the cluster

`minikube start`{{execute}}

### Create the namespace

`kubectl create -f dev-1-namespace.yaml`{{execute}}

### Create postgres persistent volume

`kubectl create -f postgres-persistent-volume.yaml`{{execute}}

### Create postgres persistent volume claim

`kubectl create -f postgres-persistent-volume-claim.yaml`{{execute}}

### Deploy postgres

`kubectl create -f postgres-deployment.yaml`{{execute}}

### Create service to expose postgres

`kubectl create -f postgres-service.yaml`{{execute}}

### Deploy the thingsboard webapp

`kubectl apply -f ./thingsboard-deployment.yaml`{{execute}}

### Create the NodePort Service for thingsboard

`kubectl apply -f ./thingsboard-service.yaml`{{execute}}

## Access the Webapp from external network

### Get the service port

`kubectl get services --namespace dev-1`{{execute}}

### Open the web interface

Click on `Select Port to view on Host 1` using the (+) menu item next to the Terminal tab
Enter the port generated by the NodePort service.

You may see the generated port by running:

`kubectl get service thingsboard-service --namespace dev-1`{{execute}}

Take note of the generated port shown as 80:**port**/TCP

```bash
NAME                  TYPE       CLUSTER-IP      PORT(S)
thingsboard-service   NodePort   10.96.170.117   80:32464/TCP
```

**To login:**
System Administrator: sysadmin@thingsboard.org / sysadmin
Tenant Administrator: tenant@thingsboard.org / tenant
Customer User: customer@thingsboard.org / customer
