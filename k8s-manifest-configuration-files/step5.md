### Create a NodePort Service using specification file

`kubectl apply -f ./thingsboard-service.yaml`{{execute}}

### See the service

`kubectl get services --namespace dev-1`{{execute}}

### Let's see the logs to confirm the app is ready to handle requests

`kubectl logs -l app=thingsboard --namespace dev-1`{{execute}}

### Access the Webapp from external network

`Select Port to view on Host 1` using the (+) menu item next to the Terminal tab
Enter the port generated by the NodePort service.

### Scale Down Deployment Replicas Set

We will now scale down the deployment to a single replica set

#### Edit the manifest

Edit the deployment manifest:

`vim ./thingsboard-deployment.yaml`{{execute}}

Change the replicas value from `3` to `1`

Save and exit vim:

`:wq!`{{execute}}

#### Apply the deployment

Run this command to re apply the deployment manifest

`kubectl apply -f ./thingsboard-deployment.yaml`{{execute}}

#### See deployment

`kubectl get deployments --namespace dev-1`{{execute}}

You may also run this command to see that only one pod is running:

`kubectl get pods --namespace dev-1`{{execute}}
